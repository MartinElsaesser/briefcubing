var CACHE_NAME = "briefcubing";
var urlsToCache = [
	"/",
	"/algs.js",
	"/btcube.js",
	"/correct.wav",
	"/cube.js",
	"/display.js",
	"/hamburger.svg",
	"/incorrect.wav",
	"/index.html",
	"/jquery.min.js",
	"/localization.js",
	"/lzstring.js",
	"/manifest.json",
	"/nosleep.min.js",
	"/roofpig_and_three.min.js",
	"/settings.js",
	"/styles.css",
	"/test.html",
	"/theme-classic.css",
	"/ui.js",
	"/icons/icon-72x72.png",
	"/icons/icon-96x96.png",
	"/icons/icon-128x128.png",
	"/icons/icon-144x144.png",
	"/icons/icon-152x152.png",
	"/icons/icon-192x192.png",
	"/icons/icon-384x384.png",
	"/icons/icon-512x512.png",
	"/images/ajax-loader.gif",
	"/jquery/jquery-1.11.1.min.js",
	"/jquery/jquery.mobile-1.4.5.js",
	"/jquery/jquery.mobile-1.4.5.min.css",
	"/jquery/jquery.mobile-1.4.5.min.js",
	"/jquery/jquery.mobile-1.4.5.min.map",
	"/jquery/images/ajax-loader.gif",
	"/jquery/images/icons-png/action-black.png",
	"/jquery/images/icons-png/action-white.png",
	"/jquery/images/icons-png/alert-black.png",
	"/jquery/images/icons-png/alert-white.png",
	"/jquery/images/icons-png/arrow-d-black.png",
	"/jquery/images/icons-png/arrow-d-l-black.png",
	"/jquery/images/icons-png/arrow-d-l-white.png",
	"/jquery/images/icons-png/arrow-d-r-black.png",
	"/jquery/images/icons-png/arrow-d-r-white.png",
	"/jquery/images/icons-png/arrow-d-white.png",
	"/jquery/images/icons-png/arrow-l-black.png",
	"/jquery/images/icons-png/arrow-l-white.png",
	"/jquery/images/icons-png/arrow-r-black.png",
	"/jquery/images/icons-png/arrow-r-white.png",
	"/jquery/images/icons-png/arrow-u-black.png",
	"/jquery/images/icons-png/arrow-u-l-black.png",
	"/jquery/images/icons-png/arrow-u-l-white.png",
	"/jquery/images/icons-png/arrow-u-r-black.png",
	"/jquery/images/icons-png/arrow-u-r-white.png",
	"/jquery/images/icons-png/arrow-u-white.png",
	"/jquery/images/icons-png/audio-black.png",
	"/jquery/images/icons-png/audio-white.png",
	"/jquery/images/icons-png/back-black.png",
	"/jquery/images/icons-png/back-white.png",
	"/jquery/images/icons-png/bars-black.png",
	"/jquery/images/icons-png/bars-white.png",
	"/jquery/images/icons-png/bullets-black.png",
	"/jquery/images/icons-png/bullets-white.png",
	"/jquery/images/icons-png/calendar-black.png",
	"/jquery/images/icons-png/calendar-white.png",
	"/jquery/images/icons-png/camera-black.png",
	"/jquery/images/icons-png/camera-white.png",
	"/jquery/images/icons-png/carat-d-black.png",
	"/jquery/images/icons-png/carat-d-white.png",
	"/jquery/images/icons-png/carat-l-black.png",
	"/jquery/images/icons-png/carat-l-white.png",
	"/jquery/images/icons-png/carat-r-black.png",
	"/jquery/images/icons-png/carat-r-white.png",
	"/jquery/images/icons-png/carat-u-black.png",
	"/jquery/images/icons-png/carat-u-white.png",
	"/jquery/images/icons-png/check-black.png",
	"/jquery/images/icons-png/check-white.png",
	"/jquery/images/icons-png/clock-black.png",
	"/jquery/images/icons-png/clock-white.png",
	"/jquery/images/icons-png/cloud-black.png",
	"/jquery/images/icons-png/cloud-white.png",
	"/jquery/images/icons-png/comment-black.png",
	"/jquery/images/icons-png/comment-white.png",
	"/jquery/images/icons-png/delete-black.png",
	"/jquery/images/icons-png/delete-white.png",
	"/jquery/images/icons-png/edit-black.png",
	"/jquery/images/icons-png/edit-white.png",
	"/jquery/images/icons-png/eye-black.png",
	"/jquery/images/icons-png/eye-white.png",
	"/jquery/images/icons-png/forbidden-black.png",
	"/jquery/images/icons-png/forbidden-white.png",
	"/jquery/images/icons-png/forward-black.png",
	"/jquery/images/icons-png/forward-white.png",
	"/jquery/images/icons-png/gear-black.png",
	"/jquery/images/icons-png/gear-white.png",
	"/jquery/images/icons-png/grid-black.png",
	"/jquery/images/icons-png/grid-white.png",
	"/jquery/images/icons-png/heart-black.png",
	"/jquery/images/icons-png/heart-white.png",
	"/jquery/images/icons-png/home-black.png",
	"/jquery/images/icons-png/home-white.png",
	"/jquery/images/icons-png/info-black.png",
	"/jquery/images/icons-png/info-white.png",
	"/jquery/images/icons-png/location-black.png",
	"/jquery/images/icons-png/location-white.png",
	"/jquery/images/icons-png/lock-black.png",
	"/jquery/images/icons-png/lock-white.png",
	"/jquery/images/icons-png/mail-black.png",
	"/jquery/images/icons-png/mail-white.png",
	"/jquery/images/icons-png/minus-black.png",
	"/jquery/images/icons-png/minus-white.png",
	"/jquery/images/icons-png/navigation-black.png",
	"/jquery/images/icons-png/navigation-white.png",
	"/jquery/images/icons-png/phone-black.png",
	"/jquery/images/icons-png/phone-white.png",
	"/jquery/images/icons-png/plus-black.png",
	"/jquery/images/icons-png/plus-white.png",
	"/jquery/images/icons-png/power-black.png",
	"/jquery/images/icons-png/power-white.png",
	"/jquery/images/icons-png/recycle-black.png",
	"/jquery/images/icons-png/recycle-white.png",
	"/jquery/images/icons-png/refresh-black.png",
	"/jquery/images/icons-png/refresh-white.png",
	"/jquery/images/icons-png/search-black.png",
	"/jquery/images/icons-png/search-white.png",
	"/jquery/images/icons-png/shop-black.png",
	"/jquery/images/icons-png/shop-white.png",
	"/jquery/images/icons-png/star-black.png",
	"/jquery/images/icons-png/star-white.png",
	"/jquery/images/icons-png/tag-black.png",
	"/jquery/images/icons-png/tag-white.png",
	"/jquery/images/icons-png/user-black.png",
	"/jquery/images/icons-png/user-white.png",
	"/jquery/images/icons-png/video-black.png",
	"/jquery/images/icons-png/video-white.png",
	"/jquery/images/icons-svg/action-black.svg",
	"/jquery/images/icons-svg/action-white.svg",
	"/jquery/images/icons-svg/alert-black.svg",
	"/jquery/images/icons-svg/alert-white.svg",
	"/jquery/images/icons-svg/arrow-d-black.svg",
	"/jquery/images/icons-svg/arrow-d-l-black.svg",
	"/jquery/images/icons-svg/arrow-d-l-white.svg",
	"/jquery/images/icons-svg/arrow-d-r-black.svg",
	"/jquery/images/icons-svg/arrow-d-r-white.svg",
	"/jquery/images/icons-svg/arrow-d-white.svg",
	"/jquery/images/icons-svg/arrow-l-black.svg",
	"/jquery/images/icons-svg/arrow-l-white.svg",
	"/jquery/images/icons-svg/arrow-r-black.svg",
	"/jquery/images/icons-svg/arrow-r-white.svg",
	"/jquery/images/icons-svg/arrow-u-black.svg",
	"/jquery/images/icons-svg/arrow-u-l-black.svg",
	"/jquery/images/icons-svg/arrow-u-l-white.svg",
	"/jquery/images/icons-svg/arrow-u-r-black.svg",
	"/jquery/images/icons-svg/arrow-u-r-white.svg",
	"/jquery/images/icons-svg/arrow-u-white.svg",
	"/jquery/images/icons-svg/audio-black.svg",
	"/jquery/images/icons-svg/audio-white.svg",
	"/jquery/images/icons-svg/back-black.svg",
	"/jquery/images/icons-svg/back-white.svg",
	"/jquery/images/icons-svg/bars-black.svg",
	"/jquery/images/icons-svg/bars-white.svg",
	"/jquery/images/icons-svg/bullets-black.svg",
	"/jquery/images/icons-svg/bullets-white.svg",
	"/jquery/images/icons-svg/calendar-black.svg",
	"/jquery/images/icons-svg/calendar-white.svg",
	"/jquery/images/icons-svg/camera-black.svg",
	"/jquery/images/icons-svg/camera-white.svg",
	"/jquery/images/icons-svg/carat-d-black.svg",
	"/jquery/images/icons-svg/carat-d-white.svg",
	"/jquery/images/icons-svg/carat-l-black.svg",
	"/jquery/images/icons-svg/carat-l-white.svg",
	"/jquery/images/icons-svg/carat-r-black.svg",
	"/jquery/images/icons-svg/carat-r-white.svg",
	"/jquery/images/icons-svg/carat-u-black.svg",
	"/jquery/images/icons-svg/carat-u-white.svg",
	"/jquery/images/icons-svg/check-black.svg",
	"/jquery/images/icons-svg/check-white.svg",
	"/jquery/images/icons-svg/clock-black.svg",
	"/jquery/images/icons-svg/clock-white.svg",
	"/jquery/images/icons-svg/cloud-black.svg",
	"/jquery/images/icons-svg/cloud-white.svg",
	"/jquery/images/icons-svg/comment-black.svg",
	"/jquery/images/icons-svg/comment-white.svg",
	"/jquery/images/icons-svg/delete-black.svg",
	"/jquery/images/icons-svg/delete-white.svg",
	"/jquery/images/icons-svg/edit-black.svg",
	"/jquery/images/icons-svg/edit-white.svg",
	"/jquery/images/icons-svg/eye-black.svg",
	"/jquery/images/icons-svg/eye-white.svg",
	"/jquery/images/icons-svg/forbidden-black.svg",
	"/jquery/images/icons-svg/forbidden-white.svg",
	"/jquery/images/icons-svg/forward-black.svg",
	"/jquery/images/icons-svg/forward-white.svg",
	"/jquery/images/icons-svg/gear-black.svg",
	"/jquery/images/icons-svg/gear-white.svg",
	"/jquery/images/icons-svg/grid-black.svg",
	"/jquery/images/icons-svg/grid-white.svg",
	"/jquery/images/icons-svg/heart-black.svg",
	"/jquery/images/icons-svg/heart-white.svg",
	"/jquery/images/icons-svg/home-black.svg",
	"/jquery/images/icons-svg/home-white.svg",
	"/jquery/images/icons-svg/info-black.svg",
	"/jquery/images/icons-svg/info-white.svg",
	"/jquery/images/icons-svg/location-black.svg",
	"/jquery/images/icons-svg/location-white.svg",
	"/jquery/images/icons-svg/lock-black.svg",
	"/jquery/images/icons-svg/lock-white.svg",
	"/jquery/images/icons-svg/mail-black.svg",
	"/jquery/images/icons-svg/mail-white.svg",
	"/jquery/images/icons-svg/minus-black.svg",
	"/jquery/images/icons-svg/minus-white.svg",
	"/jquery/images/icons-svg/navigation-black.svg",
	"/jquery/images/icons-svg/navigation-white.svg",
	"/jquery/images/icons-svg/phone-black.svg",
	"/jquery/images/icons-svg/phone-white.svg",
	"/jquery/images/icons-svg/plus-black.svg",
	"/jquery/images/icons-svg/plus-white.svg",
	"/jquery/images/icons-svg/power-black.svg",
	"/jquery/images/icons-svg/power-white.svg",
	"/jquery/images/icons-svg/recycle-black.svg",
	"/jquery/images/icons-svg/recycle-white.svg",
	"/jquery/images/icons-svg/refresh-black.svg",
	"/jquery/images/icons-svg/refresh-white.svg",
	"/jquery/images/icons-svg/search-black.svg",
	"/jquery/images/icons-svg/search-white.svg",
	"/jquery/images/icons-svg/shop-black.svg",
	"/jquery/images/icons-svg/shop-white.svg",
	"/jquery/images/icons-svg/star-black.svg",
	"/jquery/images/icons-svg/star-white.svg",
	"/jquery/images/icons-svg/tag-black.svg",
	"/jquery/images/icons-svg/tag-white.svg",
	"/jquery/images/icons-svg/user-black.svg",
	"/jquery/images/icons-svg/user-white.svg",
	"/jquery/images/icons-svg/video-black.svg",
	"/jquery/images/icons-svg/video-white.svg",
	"/spectrum/spectrum.js",
	"/spectrum/spectrum.css",
	// "https://www.googletagmanager.com/gtag/js?id=UA-75630988-2"
];

self.addEventListener("install", function (event) {
	// Perform install steps
	event.waitUntil(
		caches.open(CACHE_NAME)
			.then(function (cache) {
				console.log("Opened cache");
				return cache.addAll(urlsToCache);
			})
	);
});

self.addEventListener("fetch", function (event) {
	event.respondWith(
		caches.match(event.request)
			.then(function (response) {
				// Cache hit - return response
				if (response) {
					return response;
				}
				return fetch(event.request);
			})
	);
});